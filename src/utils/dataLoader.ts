import { PeptideData } from '../types/PeptideData';
import { loadPeptideFile } from './fileLoader';

export async function debugPeptideFiles(): Promise<void> {
  try {
    const electron = window.require ? window.require('electron') : null;

    if (!electron || !electron.ipcRenderer) {
      console.log('Electron IPC not available for debugging');
      return;
    }

    // Get list of peptide files
    const fileList = await electron.ipcRenderer.invoke('list-peptide-files');
    console.log('Peptide files debug info:', fileList);

    if (fileList.success && fileList.files.length > 0) {
      // Try to read one file as a test
      const testFile = fileList.files[0];
      const fileData = await electron.ipcRenderer.invoke('read-peptide-file', testFile);
      console.log('Test file read result:', fileData);
    }
  } catch (error) {
    console.error('Error in debug function:', error);
  }
}

async function getPeptideFiles(): Promise<string[]> {
  // List of all peptide JSON files
  return [
    'LLLPPQPALA.json',
    'AAFAGRATA.json',
    'AAAFAGRAT.json',
    'MLPGLALLL.json',
    'ALLPLLLQA.json',
    'AARALLPLL.json',
    'VLWTRIAST.json',
    'LLALLLPQV.json',
    'MLLSLDFPG.json',
    'CLVVAMLLSL.json',
    'MLLSLDFPGQA.json',
    'GALLLWQLL.json',
    'LLLGRLTGV.json',
    'LLLGRLTGVAG.json',
    'WLLAVPGAN.json',
    'FLDETLRSLA.json',
    'EPLLLGRGLIVY.json',
    'RIARALALVVT.json',
    'LLAARVVAA.json',
    'ALFLGVGVR.json',
    'VLLPVLAYS.json',
    'LLLLLLCPAQV.json',
    'KALRLSASALF.json',
    'FGYEATLGL.json',
    'LCLLLLLGL.json',
    'LGSLLLLGL.json',
    'LLLWFGMFL.json',
    'FLNLLPVEA.json',
    'TVAAVCATR.json',
    'RLLLLPLLL.json',
    'LFQSFANVF.json',
    'LLPPSPLPLAAG.json',
    'ATVLQAVSA.json',
    'LLLATVLQA.json',
    'LLLATVLQAV.json',
    'RLLLATVLQAV.json',
    'VLSGPPAVA.json',
    'SVLSGPPAV.json',
    'SVLSGPPAVA.json',
    'MRLGSPGLLF.json',
    'LLLALCGCPAPA.json',
    'ARFGLPALL.json',
    'LMVLMLAAL.json',
    'KLLMVLMLA.json',
    'TAATAALAGR.json',
    'ALGGHPLLGV.json',
    'RWLALGSLF.json',
    'LPALLPVPA.json',
    'ALPALLPVPA.json',
    'ALPALLPVPAV.json',
    'PALLLLLLL.json',
    'SALGAVIAL.json',
    'LSALALLSL.json',
    'LLSALALLS.json',
    'LLAAGFCPA.json',
    'LLLTHLPLA.json',
    'LLWLIAPSRA.json',
    'FLALSILVL.json',
    'VLLQAGSLHA.json',
    'LSTCVALLL.json',
    'ALWGPDPAAA.json',
    'FIKAVHVKA.json',
    'VFIKAVHVKA.json',
    'AALALTETW.json',
    'GALALTQTW.json',
    'VLMSAQESW.json',
    'AMLSTPVAEG.json',
    'HEEHSRAAA.json',
    'LLHEEHSRA.json',
    'LHEEHSRAAA.json',
    'LLHEEHSRAAA.json',
    'IVLEGPAPA.json',
    'TRLLPALFLVL.json',
    'SPVLILFSS.json',
    'AVPSTGASK.json',
    'GTAVPSTGASK.json',
    'FLIFLLNFT.json',
    'IFLIFLLNF.json',
    'KWVESIFLI.json',
    'IFLIFLLNFT.json',
    'KWVESIFLIF.json',
    'MKWVESIFLI.json',
    'KWVESIFLIFL.json',
    'MKWVESIFLIF.json',
    'IFLYQVVHF.json',
    'LLFWGVVSHS.json',
    'TGLLLLQAV.json',
    'MAGSLTGLLL.json',
    'VATWSDLGL.json',
    'FLLLLLGTW.json',
    'GKISSLPTQLF.json',
    'PALTCLVLGLA.json',
    'LLSPQGASL.json',
    'MISPFLVLA.json',
    'GLLLVLPAA.json',
    'MLSTPVAEA.json',
    'WVPVVFLTL.json',
    'MWVPVVFLTL.json',
    'LLASLLGAAL.json',
    'LLTQVALVVQ.json',
    'NPTLILAAF.json',
    'LLGELPRLLLL.json',
    'RLLAKIICL.json',
    'LLPPPPRVGG.json',
    'LLLLATQAV.json',
    'LHAGGLARA.json',
    'LLHAGGLARA.json',
    'TLLHAGGLARA.json',
    'KLAVALLAA.json',
    'GGLALTETW.json',
    'AVICFCLLGI.json',
    'TMVPLVPALVM.json',
    'IGEFQSFSSA.json',
    'SAAVLALLL.json',
    'NLAPAPLNA.json',
    'KLSLVAAML.json',
    'MKLSLVAAMLL.json',
    'VLAVLAAAAAA.json',
    'FLSGFPTTHA.json',
    'DVPTAAVQA.json',
    'LLLDVPTAA.json',
    'LLLLDVPTA.json',
    'LDVPTAAVQA.json',
    'LLLDVPTAAVQ.json',
    'MRPRKAFLLLLL.json',
    'LLLPSLADG.json',
    'LLGWVFAQV.json',
    'VARTLLLGW.json',
    'SEALALTQT.json',
    'LSEALALTQ.json',
    'LLLSEALAL.json',
    'SEALALTQTWA.json',
    'VLSSPLALA.json',
    'ARGAALALLLFG.json',
    'LLWSFQTSA.json',
    'LLAVLYCLL.json',
    'CLLWSFQTSA.json',
    'VLAAGVVPLLL.json',
    'KVLAAGVVPLL.json',
    'VLAAGVVPLLLV.json',
    'AMAAAWPLL.json',
    'APRSLLLALA.json',
    'FLFLLFFWL.json',
    'LFLLFFWLDR.json',
    'LLFFWLDRSVLA.json',
    'LLCELPHPAFL.json',
    'LLPPAPVVL.json',
    'SPRHLPSCSPAL.json',
    'PVVLPLLLL.json',
    'LLLLTVLTV.json',
    'LLLPPLLLL.json',
    'LLLLPPLLLL.json',
    'VLLTLLLCS.json',
    'LLAAATATFAAA.json',
    'QWKAAAGFLF.json',
    'LLLGHVAQV.json',
    'KLLSLGCIFFP.json',
    'GPVALLLGFGLL.json',
    'LMQAPLLIALG.json',
    'LLRGPPVARA.json',
    'VPSLLVLLV.json',
    'RVPSLLVLL.json',
    'RAVILRALSLA.json',
    'LLLILLSAS.json',
    'SLWPDTAVA.json',
    'LLWAPPPSRA.json',
    'RLLQASCLLSL.json',
    'ALALCVAVAI.json',
    'LAAGPGPSL.json',
    'LAAGPGPSLG.json',
    'MLLGNPGLVFS.json',
    'GLLSRLGAA.json',
    'LLLPGPSAA.json',
    'FLLLPGPSAA.json',
    'TLLSLRPSEA.json',
    'LLLSGAARA.json',
    'ALASVLLAL.json',
    'MLLLLLQPP.json',
    'PMLLLLLQP.json',
    'LAASPGGAL.json',
    'QLLAGVFLA.json',
    'LLLPTQIYS.json',
    'VARLSSKSV.json',
    'HLLAILFCA.json',
    'SLSSIRLIQA.json',
    'MLLSVPLLL.json',
    'MLLSVPLLLG.json',
    'VLGTAIVEA.json',
    'LLAAARLAAA.json',
    'LLLAAARLAAA.json',
    'ALFPGVALLLA.json',
    'RLALFPGVALL.json',
    'FLGPWPAAS.json',
    'MAPARLFALLL.json',
    'LKPSLPFTSLL.json',
    'VALRYVWPL.json',
    'VALRYVWPLL.json',
    'LLFSHVDHVIA.json',
    'RRAWILLTLG.json',
    'FSGALLGLL.json',
    'SGALLGLLAA.json',
    'AVLLLHLVLQ.json',
    'SLGDWGAEA.json',
    'VVLLLAGSG.json',
    'ESAGASSFFPL.json',
    'AAAAAAAAL.json',
    'AAAAAAAAA.json',
    'YPCGCHILLLL.json',
    'LLLSAEPVPA.json',
    'SAMSSKFFLV.json',
    'RLLPRLLLL.json',
    'SMACVGFFL.json',
    'IMACVGFFL.json',
    'ILGSAVLTL.json',
    'AREMTILGSAV.json',
    'LHLLGQVAA.json',
    'ARVRPLFCALL.json',
    'QELRGALALL.json',
    'FLLGPRLVL.json',
    'LPGPREAPA.json',
    'LPGPREAPAAA.json',
    'LLPGPREAPAA.json',
    'LLLLSAFCL.json',
    'LAAHPDAQA.json',
    'AMASLGALALL.json',
    'LVASIIVPA.json',
    'SQVLLLTSA.json',
    'LSQVLLLTS.json',
    'VLLSQVLLL.json',
    'VLSGPGGLLRA.json',
    'ALLSLSGLEA.json',
    'FLILHLVTV.json',
    'SAFLILHLV.json',
    'MRFLAATFLL.json',
    'ALRAKVCGA.json',
    'QSLLFLTSV.json',
    'TPPGPLASA.json',
    'ALGPSVAAA.json',
    'LALGPSVAA.json',
    'KADSGAFLL.json',
    'DSGAFLLLFL.json',
    'GVSLLLSGTV.json',
    'IVATLLLVL.json',
    'LLAPSPGHA.json',
    'ALSSLLLLL.json',
    'TPPRLFWVW.json',
    'RQLGALVWGA.json',
    'ALALALVAV.json',
    'LLWSQVSGA.json',
    'LLWSQVSGAQG.json',
    'VLHLGLLSA.json',
    'PLLSVLLLP.json',
    'MKISILLMF.json',
    'LVVLLVGGCA.json',
    'GTVLLLSVL.json',
    'SLLFLLFSL.json',
    'SVTNPLHELK.json',
    'MRLALLWALG.json',
    'DFGLALLLAG.json',
    'LATMILVDI.json',
    'RLARLALVL.json',
    'FALPGLLHA.json',
    'SPRSLLVLLQ.json',
    'RAYALLLLL.json',
    'GTAVALLRLLL.json',
    'LGPRTAALGLLL.json',
    'RPRSALPRLLLP.json',
    'LLLLLAAECA.json',
    'GLSRVLVAV.json',
    'LLPPPGSCA.json',
    'KLVNIWLLL.json',
    'FLAGFPVLDA.json',
    'AARLPLDAA.json',
    'LAARLPLDAA.json',
    'GLWRTTPEA.json',
    'GLWRTTPEAHA.json',
    'LALGLTAFF.json',
    'VLAPRVLRA.json',
    'TLAELLVLLAA.json',
    'LAVCALLFL.json',
    'ALGPAATLA.json',
    'KIFLPVLLAA.json',
    'MKIFLPVLLAAL.json',
    'RRVVGTLHLLLL.json',
    'RPRGLPPLLVV.json',
    'MVLSSPLALA.json',
    'KLLTTLLAV.json',
    'LLGPQLVLL.json',
    'PLRLLILLF.json',
    'TGVLSSLLL.json',
    'ALSLRLALA.json',
    'MALMLSLVL.json',
    'LLWFPLDSHA.json',
    'MAAAGAAVARS.json',
    'VLLRWISLF.json',
    'MSAVGLVLL.json',
    'LYIRTSIIL.json',
    'MLLATLLLL.json',
    'SRVLLLLLL.json',
    'RQALLLLAL.json',
    'LGLLLWSGL.json',
    'LGPMALLLL.json',
    'PGSAVLAAAVF.json',
    'LLPLLLPPP.json',
    'LAIALHPAL.json',
    'ALGAALLAV.json',
    'KLAALGSLLVL.json',
    'LLLPGTLRLAGG.json',
    'RRFQWPLLL.json',
    'LLAAFLLLA.json',
    'LAAGPSAAA.json',
    'LLAAGPSAA.json',
    'VLLAAGPSAA.json',
    'TLTCFPGAT.json',
    'FAAPFGLLG.json',
    'AQALVLALT.json',
    'IPRAALLPLLL.json',
    'MQIPRAALLPLL.json',
    'GRRAPGAAA.json',
    'AVALRPAEA.json',
    'VAPPLPAAD.json',
    'LLPWPLATL.json',
    'LVFGSVSEA.json',
    'SLLRLPLLQL.json',
    'LQLPAPSSA.json',
    'VILSLILHL.json',
    'LLTIVGLIL.json',
    'LEASGGGRA.json',
    'LFLNLPGPIWL.json',
    'CLASGIILG.json',
    'VLMLGRVLV.json',
    'EVVHTVFLF.json',
    'LLPSVVLKL.json',
    'LLPSVVLKLF.json',
    'RLPPALAALGA.json',
    'AFRTICVLVGV.json',
    'ILLWKLVLL.json',
    'LPSRILLWK.json',
    'ALPSRILLWKL.json',
    'SAYAGFLAL.json',
    'LLLPPPPCPA.json',
    'LLFRGCLIGA.json',
    'LLLGSPAAA.json',
    'VLLSQLPTV.json',
    'ALLSRPALTLL.json',
    'LLFDWSGTGRA.json',
    'LLTGLVLIL.json',
    'LQRSSGAAA.json',
    'MSLLLLLLLVSY.json',
    'LVRPPGTMA.json',
    'LLWAPAAVRA.json',
    'LARPPPASA.json',
    'LVLLGLCSW.json',
    'CLTLIYILW.json',
    'LLVPAHLVAA.json',
    'LALCLIQDA.json',
    'LLFSRLCGA.json',
    'LLWGHPRVA.json',
    'LLWGHPRVALA.json',
    'KDFSNLLLVV.json',
    'ALALEISSV.json',
    'PSRHCLLLI.json',
    'HQVLTFLLL.json',
    'MTYWHLLNA.json',
    'IFMTYWHLL.json',
    'FIFMTYWHL.json',
    'ALLGALLAA.json',
    'ALLGALLAAA.json',
    'VLWHLPAVPA.json',
    'RGPGWRPLLLL.json',
    'ESSQIGSSR.json',
    'FIFHHCNHC.json',
    'LLSPPPLPLTGA.json',
    'AAAGPGAAR.json',
    'LLLPFLPLL.json',
    'APGLPTARA.json',
    'LALAPGLPT.json',
    'ALAPGLPTARA.json',
    'LALAPGLPTAR.json',
    'MLTTLLPIL.json',
    'SVAPAAALAAA.json',
    'LGALVVPQLL.json',
    'ALPPVLLPGA.json',
    'VPRSASVLLL.json',
    'ALLSPLSLA.json',
    'FLGYLILGV.json',
    'ARALLLPLL.json',
    'ALLARLQVA.json',
    'AGSLTGLLL.json',
    'LLAAAAALP.json',
    'MLMLPLLLL.json',
    'GAAGATRVF.json',
    'ALGAAGATRV.json',
    'MLLAVLYCL.json',
    'LLLPAVPVG.json',
    'LLLPAVPVGA.json',
    'LVAAPRWVL.json',
    'MRLLSFVVLAL.json',
    'LAASVALAV.json',
    'LLAASVALA.json',
    'ALLAASVALA.json',
    'RLPDVQLWLV.json',
    'HLPPCFLLLAL.json',
    'LLSGRPTRA.json',
    'VLVGSFSASL.json',
    'QAPRAALVFALV.json',
    'AVSAAVAVAV.json',
    'ALLGVGPVPA.json',
    'LPLLPPLSP.json',
    'LLLPLLPPL.json',
    'LLLPLLPPLSP.json',
    'LLLPLLPPLSPS.json',
    'EWLRVTTVLF.json',
    'LLGSQILLI.json',
    'LLWEAGSEA.json',
    'QVLLPFLLSL.json',
    'LSWVFLVVI.json',
    'TLLLLLWGA.json',
    'LLLLLLLLLLLL.json',
    'GALALTETW.json',
    'RTVLLLLSGAL.json',
    'ANSGLQLLGFSM.json',
    'ARALLSAVTR.json',
    'ARALLSAVTRL.json',
    'MHSFPPLLL.json',
    'VMAPQALLL.json',
    'RVMAPQALL.json',
    'MRVMAPQALL.json',
    'SPWPLLGSA.json',
    'MLLRALAQA.json',
    'SVYVVELLR.json',
    'LMSVYVVEL.json',
    'KFLHWLMSV.json',
    'MSVYVVELLR.json',
    'WLMSVYVVEL.json',
    'FLHWLMSVYV.json',
    'HWLMSVYVVEL.json',
    'FLHWLMSVYVV.json',
    'KFLHWLMSVYV.json',
    'LLPATMFHL.json',
    'QELHLLWWAL.json',
    'RRLLLTKLF.json',
    'KMRGVLLVLL.json',
    'AALALVAGVL.json',
    'PLSLTLLLP.json',
    'GITAVLVAAV.json',
    'LQALQLAGA.json',
    'VVAAHLAGA.json',
    'AVMIPGLLR.json',
    'LLLLASPPA.json',
    'ICLLLLLGL.json',
    'SSLLALLTV.json',
    'MLLTLFLIT.json',
    'FVDTRTLLL.json',
    'MLSFVDTRTLL.json',
    'ALLRVSVLC.json',
    'LHHAKWSQA.json',
    'FLLSLRGAGA.json',
    'MITPMLLTL.json',
    'LSLLLMLLL.json',
    'TLYSLLQAA.json',
    'SLLLLVTSV.json',
    'AGTLSLLLLV.json',
    'VWPTMITPML.json',
    'LNTTVWPTMITP.json',
    'FLTEAALGDA.json',
    'VMAPRTLVL.json',
    'AVMAPRTLVLL.json',
    'APRTVLLLL.json',
    'MAPRTVLLL.json',
    'VMAPRTVLLLL.json',
    'MLVMAPRTVLL.json',
    'MAPRTLILL.json',
    'VMAPRTLIL.json',
    'RVMAPRTLI.json',
    'APRALLLLL.json',
    'VMAPRALLLLL.json',
    'MAPRTLLLL.json',
    'AVMAPRTLL.json',
    'VMAPRTLLLL.json',
    'VMAPRTLLLLL.json',
    'AEWASRFWLW.json',
    'FLYSLLMKL.json',
    'SWERLAVLV.json',
    'MALAMLVLVV.json',
    'SLLLIPAAAG.json',
    'TVLFTGVRR.json',
    'TIVDILERF.json',
    'LLFDLPPAL.json',
    'TLLFDLPPA.json',
    'LLGTWAPAPGSA.json',
    'MPLPWSLALP.json',
    'PALLASLIL.json',
    'GMPTMRLLSFV.json',
    'AHQVLTFLL.json',
    'ALLALTSAV.json',
    'LYSGVFVAF.json',
    'LLYSGVFVA.json',
    'LAANAGTGF.json',
    'SALGLALYL.json',
    'GTVLFSVRR.json',
    'RLSAALHLL.json',
    'FRLSAALHL.json',
    'MRLAVLFSGA.json',
    'LAVSVTALK.json',
    'MRFLIKGSV.json',
    'ARVWSLMRF.json',
    'LCDLLLVVRTSL.json',
    'AVAAPSRAR.json',
    'AVAAPSRARG.json',
    'LLGAMMLPAI.json',
    'KALIFAAAGL.json',
    'SLMPKMHLL.json',
    'ILMGTELTQV.json',
    'LLWAPTAQA.json',
    'PPLWIGLFLVAT.json',
    'AVISGVMSL.json',
    'GLRRALLGL.json',
    'GLLWQIIKI.json',
    'AQGLLLHFL.json',
    'LAQGLLLHFLP.json',
    'GDILLFGTL.json',
    'LLLELAGVTHV.json',
    'MTSHYVIAIF.json',
    'ASRLTLLTLL.json',
    'SLLSLVSAV.json',
    'RTLKYLWTV.json',
    'VWPTMITPM.json',
    'TTVWPTMITP.json',
    'LPSPLSARA.json',
    'QALPSPLSA.json',
    'ALALWIPSL.json',
    'SLDALLTVI.json',
    'LSLDALLTV.json',
    'LLSLDALLT.json',
    'MISASRAAA.json',
    'SLWKGLVGI.json',
    'APSLWKGLVG.json',
    'FLFARVVEL.json',
    'RLLDVLAPLVL.json',
    'TPAQLLFLL.json',
    'SRYLLPLSA.json',
    'LPWAPAGVAA.json',
    'APLLGLGLG.json',
    'VGLLRLHSL.json',
    'VLLSLQALL.json',
    'QRARPTLWAAA.json',
    'STINLLQTL.json',
    'MAAAALTSL.json',
    'ALMTIFTIK.json',
    'LLNVEPAGA.json',
    'MAAPLVLVL.json',
    'VMAAILHKL.json',
    'RLQTWWHGV.json',
    'YLATFALKV.json',
    'LLLLPRVLL.json',
    'LLPVASRLLLL.json',
    'ALLPVASRLLLL.json',
    'TELLWPGAAL.json',
    'GAALLVLLGVA.json',
    'TELLWPGAALL.json',
    'GTELLWPGAAL.json',
    'SGAGRALAALL.json',
    'FGNGFALAL.json',
    'ALLAVGATK.json',
    'TMMGLRLQV.json',
    'ILTTLIHLV.json',
    'RLPDFFLLL.json',
    'SIRNFLIYV.json',
    'ALSLYLFKL.json',
    'IHALSLYLF.json',
    'ALAEMPDSAAA.json',
    'MLLLLGLDS.json',
    'LLATAILGA.json',
    'SLLATAILGA.json',
    'LMASSLLGL.json',
    'RLFLSLPVLV.json',
    'ASVVSLALLW.json',
    'LEYLAFSDS.json',
    'GAAPLILSR.json',
    'MVPSAGQLALF.json',
    'VLAVVVIGA.json',
    'VVVIGAVVAA.json',
    'AVLDGIFCV.json',
    'FLVETGFHHV.json',
    'FLAPVAGTPA.json',
    'IAVGIHLLL.json',
    // Additional peptides
    'AAPRPPPKPM.json',
    'AEAEPEPELA.json',
    'AKHHAISAK.json',
    'ALHISHDEL.json',
    'ALINQHLSGL.json',
    'APRLVQKEKID.json',
    'APTEDDHDEL.json',
    'AQGSDVSLTA.json',
    'ARADLARRGLRF.json',
    'ARECTIEATA.json',
    'ASPLTHSPPDEL.json',
    'ASSRPRPDDLEI.json',
    'ASVYQPLKK.json',
    'ATLLASNEAFKK.json',
    'AVCEGTWRL.json',
    'AYDISEDEED.json',
    'AYMDAPKAAL.json',
    'AYMGFINSF.json',
    'DAVFVLKPV.json',
    'DEAHPVESA.json',
    'DEELLRFSN.json',
    'DEPLETATKEN.json',
    'DFRDGSIAV.json',
    'DGDEELLRFSN.json',
    'DLTKNHDEL.json',
    'DLTRHHDEL.json',
    'DTKPQTMER.json',
    'DTREYEVSI.json',
    'DTYEITKSY.json',
    'DVSLTACKV.json',
    'EALVRHDEF.json',
    'EAVEAISLPSL.json',
    'EDLNTRVAY.json',
    'EFLGKSEPEHQH.json',
    'EIAVIENIK.json',
    'EIQNGNLHES.json',
    'ELQLRPLAGR.json',
    'EPYKPPSAQ.json',
    'ETSMVHELNR.json',
    'EVANSILQKIL.json',
    'FGEALVRHDEF.json',
    'FLDDPSTAETVL.json',
    'FLDKVVGLQK.json',
    'FLDPLFLSI.json',
    'FLSEKLERI.json',
    'FMDTLASHQLYI.json',
    'FQIIQSIRMGM.json',
    'FSDDVPMVIA.json',
    'FSYAPPTDSFL.json',
    'FYQDTFGQQWK.json',
    'FYQDTYGQQWK.json',
    'GASRHQGPL.json',
    'GEEDTAEKDEL.json',
    'GEKFVMQEEF.json',
    'GELKFEPHI.json',
    'GHDPRAQGTL.json',
    'GHSGLQPTGFLS.json',
    'GIYPHKLVF.json',
    'GLAERASQQS.json',
    'GLHPTGLVS.json',
    'GPFKPDHYRY.json',
    'GPRISRSQSEL.json',
    'GQGYTQPGPGYR.json',
    'GSDVSLTACKV.json',
    'GSVRGTSAADV.json',
    'GYTQPGPGYR.json',
    'HDSLAIERKIK.json',
    'HELNINPKDEL.json',
    'HIWGKYTRS.json',
    'HKYLDSEEDEE.json',
    'HLPPPGYDDMYL.json',
    'HPLPIWTPA.json',
    'HVNHHMPPH.json',
    'HVYKLSRNK.json',
    'IARDRALEGR.json',
    'IEVEKPFAIAKE.json',
    'IIQSIRMGM.json',
    'ILAPAGSLPKI.json',
    'KESTAEKDEL.json',
    'KGKKLSLPA.json',
    'KIFKKPLKK.json',
    'KKLAVSSAA.json',
    'KLDVGNAEVKLE.json',
    'KLWLDAYLHK.json',
    'KLYDRILRV.json',
    'KMKGTLIDNQFK.json',
    'KNKWFFQKLRF.json',
    'KQLTSHPWK.json',
    'KQSFLTRKY.json',
    'KRLSTPSASTY.json',
    'KSLPLVRKIAAE.json',
    'KVTNGVGKK.json',
    'KVVTIIPKI.json',
    'KVYNGLQGY.json',
    'LAQASQELQ.json',
    'LEPYKPPSAQ.json',
    'LFMGKVVNPTQK.json',
    'LIALLSTGSK.json',
    'LITSQPEEKRF.json',
    'LKRFFEVRRVV.json',
    'LLEPIPYEFMA.json',
    'LLPEGPPAIAN.json',
    'LSAEQSPPPYSP.json',
    'LTDYISKVKE.json',
    'LTHSPPDEL.json',
    'LYKGKKERPRS.json',
    'LYRYVTKLLV.json',
    'MLAQQAVKRTAH.json',
    'NPQPMTPPW.json',
    'NPYSHGNIV.json',
    'NVGPLILKKKEV.json',
    'PELSGESLTAE.json',
    'PLGEAQPQI.json',
    'PNASVYQPLKK.json',
    'PPVEAADQP.json',
    'PTEDDHDEL.json',
    'QEAPPIHSS.json',
    'QEAREPSPSL.json',
    'QGSDVSLTA.json',
    'QGSDVSLTACKV.json',
    'QIDDLYSTIKV.json',
    'QIIQSIRMGM.json',
    'QLAFHQFYI.json',
    'QLEWDDSTLSY.json',
    'QLFINHILK.json',
    'QVQDGAPGTFNF.json',
    'RAMEGELGEL.json',
    'RECTIEATA.json',
    'REFTYKHDEL.json',
    'RFFEVRRVV.json',
    'RFRFPSGAEL.json',
    'RIIETPPHRY.json',
    'RLAKADGIVSK.json',
    'RLRHNGPPPV.json',
    'RLVQKEKID.json',
    'RLWHIQSKK.json',
    'RMARLAELAAL.json',
    'RQIDQMVGLI.json',
    'RRARGVPPL.json',
    'RTDFRDGSIAV.json',
    'SAQEAPPIHSS.json',
    'SDVSLTACKV.json',
    'SESKPKDEL.json',
    'SGRPVNLMGTSL.json',
    'SLAIERKIK.json',
    'SLFEDTLDPT.json',
    'SLGPSLATDKS.json',
    'SLLPEGPPAIAN.json',
    'SLTEQRLTVES.json',
    'SNAAERRGPL.json',
    'SPLLSGQQV.json',
    'SRAKHHAISAK.json',
    'SRIQAGEEKL.json',
    'SYAPPTDSFL.json',
    'TEHPEPQQET.json',
    'TISPLLLIP.json',
    'TLASHQLYI.json',
    'TLFFQQNAL.json',
    'TLVDQRFLI.json',
    'TLYGLSLATPGE.json',
    'TPHVNHHMPPH.json',
    'TVAVGLYAM.json',
    'VAVNNPKKQE.json',
    'VEAISLPSL.json',
    'VKAPLVLKD.json',
    'VLESSNPKM.json',
    'VQDGAPGTFNF.json',
    'VYARKRNGQM.json',
    'VYTEDNDDDLYG.json',
    'WEIPVQIVSHL.json',
    'WVSSQFYNK.json',
    'YAIFKSQDF.json',
    'YDISEDEED.json',
    'YEQVAKALK.json',
    'YHDDSDEDLLE.json',
    'YIKWLDQNL.json',
    'YMDAPKAAL.json',
    'YQDTFGQQWK.json',
    'YRYVTKLLV.json',
    'YSDVAKRLTK.json',
    'YSQVFKETV.json',
    'YTEDNDDDLYG.json',
    'YVAVVNVHS.json'
  ];
}

export async function loadPeptideData(): Promise<Record<string, PeptideData>> {
  let allData: Record<string, PeptideData> = {};

  try {
    const peptideFiles = await getPeptideFiles();
    console.log(`Found ${peptideFiles.length} peptide files to load`);

    // Process peptides in batches to avoid overwhelming the system
    const batchSize = 50;
    const batches = [];

    for (let i = 0; i < peptideFiles.length; i += batchSize) {
      batches.push(peptideFiles.slice(i, i + batchSize));
    }

    console.log(`Processing ${batches.length} batches of peptide files`);

    for (let i = 0; i < batches.length; i++) {
      const batch = batches[i];
      console.log(`Loading batch ${i+1}/${batches.length} (${batch.length} files)`);

      // Load current batch in parallel
      const loadPromises = batch.map(filename => loadPeptideFile(filename));
      const results = await Promise.all(loadPromises);

      // Combine all results from this batch
      results.forEach(data => {
        if (data && Object.keys(data).length > 0) {
          allData = { ...allData, ...data };
        }
      });

      console.log(`Completed batch ${i+1}, ${Object.keys(allData).length} peptides loaded so far`);
    }

    const loadedCount = Object.keys(allData).length;
    console.log(`Successfully loaded ${loadedCount} peptides`);

    if (loadedCount === 0) {
      console.error('No peptide data could be loaded. Check file paths and formats.');
      throw new Error('No peptide data could be loaded');
    }

    return allData;
  } catch (error) {
    console.error('Error loading peptide data:', error);
    throw error;
  }
}